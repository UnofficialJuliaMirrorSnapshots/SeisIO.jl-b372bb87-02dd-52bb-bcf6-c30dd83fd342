

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quake &mdash; SeisIO 0.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="RandSeis" href="randseis.html" />
    <link rel="prev" title="Data Processing Functions" href="../Processing/processing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> SeisIO
          

          
          </a>

          
            
            
              <div class="version">
                0.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../working_with_data.html">Working with Data</a></li>
</ul>
<p class="caption"><span class="caption-text">Reading Files</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Formats/fileformats.html">Reading Files</a></li>
</ul>
<p class="caption"><span class="caption-text">Downloading Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Web/webclients.html">Web Requests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Web/seedlink.html">SeedLink</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Processing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Processing/processing.html">Data Processing Functions</a></li>
</ul>
<p class="caption"><span class="caption-text">Submodules</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quake</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#types">Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#web-queries">Web Queries</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#event-header-query">Event Header Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#event-header-and-data-query">Event Header and Data Query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#phase-onset-query">Phase Onset Query</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#quakeml-reader">QuakeML Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="#file-readers">File Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utility-functions">Utility Functions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="randseis.html">RandSeis</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/function_list.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html">SeisIO Write Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#simple-object-types">Simple Object Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#location-types">Location Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#response-types">Response Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#the-misc-dictionary">The Misc Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#compound-object-types">Compound Object Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/seisio_file_format.html#data-type-codes">Data Type Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/web_syntax.html">Data Requests Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/keywords.html">SeisIO Standard Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Appendices/examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SeisIO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Quake</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/src/Submodules/quake.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quake">
<h1>Quake<a class="headerlink" href="#quake" title="Permalink to this headline">¶</a></h1>
<p>The Quake submodule (accessed with “using SeisIO.Quake”) was introduced in
SeisIO v0.3.0 to isolate handling of discrete earthquake events from handling
of continuous geophysical data. While the channel data are similar, fully
describing an earthquake event requires many additional Types (objects) and
more information (fields) in channel descriptors.</p>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<p>See Type help text for field descriptions and SeisIO behavior.</p>
<dl class="function">
<dt id="EQMag">
<code class="descname">EQMag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EQMag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Earthquake magnitude object.</p>
<dl class="function">
<dt id="EQLoc">
<code class="descname">EQLoc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EQLoc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Computed earthquake location.</p>
<dl class="function">
<dt id="EventChannel">
<code class="descname">EventChannel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EventChannel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A single channel of trace data (digital seismograms) associated with a
discrete event (earthquake).</p>
<dl class="function">
<dt id="EventTraceData">
<code class="descname">EventTraceData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#EventTraceData" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A custom structure designed to describe trace data (digital seismograms)
associated with a discrete event (earthquake).</p>
<dl class="function">
<dt id="PhaseCat">
<code class="descname">PhaseCat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#PhaseCat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A seismic phase catalog is a dictionary with phase names for keys (e.g. “pP”, “PKP”)
and SeisPha objects for values.</p>
<dl class="function">
<dt id="SeisEvent">
<code class="descname">SeisEvent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SeisEvent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A compound Type comprising a SeisHdr (event header), SeisSrc (source process),
and EventTraceData (digital seismograms.)</p>
<dl class="function">
<dt id="SeisHdr">
<code class="descname">SeisHdr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SeisHdr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Earthquake event header object.</p>
<dl class="function">
<dt id="SeisPha">
<code class="descname">SeisPha</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SeisPha" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A description of a seismic phase measured on a data channel.</p>
<dl class="function">
<dt id="SeisSrc">
<code class="descname">SeisSrc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SeisSrc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Seismic source process description.</p>
<dl class="function">
<dt id="SourceTime">
<code class="descname">SourceTime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#SourceTime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>QuakeML-compliant seismic source-time parameterization.</p>
</div>
<div class="section" id="web-queries">
<h2>Web Queries<a class="headerlink" href="#web-queries" title="Permalink to this headline">¶</a></h2>
<div class="section" id="event-header-query">
<h3>Event Header Query<a class="headerlink" href="#event-header-query" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt>
<code class="descname">FDSNevq</code><span class="sig-paren">(</span><em>ot</em><span class="sig-paren">)</span></dt>
<dd></dd></dl>

<p><a class="reference internal" href="../Appendices/keywords.html#dkw"><span class="std std-ref">Shared keywords</span></a>: evw, rad, reg, mag, nev, src, to, v, w</p>
<p>Multi-server query for the event(s) with origin time(s) closest to <cite>ot</cite>. Returns
a tuple consisting of an Array{SeisHdr,1} and an Array{SeisSrc,1}, so that
the <cite>i`th entry of each array describes the header and source process of event `i</cite>.</p>
<p>Notes:</p>
<ol class="arabic simple">
<li>Specify <cite>ot</cite> as a string formatted YYYY-MM-DDThh:mm:ss in UTC (e.g. “2001-02-08T18:54:32”). Returns a SeisHdr array.</li>
<li>Incomplete string queries are read to the nearest fully-specified time constraint; thus, <cite>FDSNevq(“2001-02-08”)</cite> returns the nearest event to 2001-02-08T00:00:00.</li>
<li>If no event is found in the specified search window, FDSNevq exits with an error.</li>
</ol>
<div class="line-block">
<div class="line"><a class="reference internal" href="../Appendices/keywords.html#dkw"><span class="std std-ref">Shared keywords</span></a>: evw, reg, mag, nev, src, to, w</div>
</div>
</div>
<div class="section" id="event-header-and-data-query">
<h3>Event Header and Data Query<a class="headerlink" href="#event-header-and-data-query" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="FDSNevt">
<code class="descname">FDSNevt</code><span class="sig-paren">(</span><em>ot::String</em>, <em>chans::String</em><span class="sig-paren">)</span><a class="headerlink" href="#FDSNevt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Get trace data for the event closest to origin time <cite>ot</cite> on channels <cite>chans</cite>.
Returns a SeisEvent.</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="../Appendices/keywords.html#dkw"><span class="std std-ref">Shared keywords</span></a>: fmt, mag, nd, opts, pha, rad, reg, src, to, v, w</div>
<div class="line">Other keywords:</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">--len</span></code>: desired record length <em>in minutes</em>.</div>
</div>
</div>
<div class="section" id="phase-onset-query">
<h3>Phase Onset Query<a class="headerlink" href="#phase-onset-query" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="get_pha">
<code class="descname">get_pha</code><span class="sig-paren">(</span><em>Δ::Float64</em>, <em>z::Float64</em><span class="sig-paren">)</span><a class="headerlink" href="#get_pha" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Command-line interface to IRIS online implementation of the TauP travel time
calculator [1-2]. Returns a matrix of strings. Specify Δ in decimal degrees
and z in km with + = down.</p>
<div class="line-block">
<div class="line">Shared keywords keywords: pha, to, v</div>
<div class="line">Other keywords:</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-model</span></code>: velocity model (defaults to “iasp91”)</div>
</div>
<p><strong>References</strong></p>
<ul class="simple">
<li>Crotwell, H. P., Owens, T. J., &amp; Ritsema, J. (1999). The TauP Toolkit: Flexible seismic travel-time and ray-path utilities, SRL 70(2), 154-160.</li>
<li>TauP manual: <a class="reference external" href="http://www.seis.sc.edu/downloads/TauP/taup.pdf">http://www.seis.sc.edu/downloads/TauP/taup.pdf</a></li>
</ul>
</div>
</div>
<div class="section" id="quakeml-reader">
<h2>QuakeML Reader<a class="headerlink" href="#quakeml-reader" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="read_qml">
<code class="descname">read_qml</code><span class="sig-paren">(</span><em>fpat::String</em><span class="sig-paren">)</span><a class="headerlink" href="#read_qml" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Read QuakeML files matching string pattern <cite>fpat</cite>. Returns a tuple containing
an array of <cite>SeisHdr</cite> objects and an array of <cite>SeisSrc</cite> objects, such that the
<cite>i`th entry of each array is the preferred location (origin) and event source
(focal mechanism or moment tensor) of event `i</cite>.</p>
<p>If multiple focal mechanisms, locations, or magnitudes are present in a single
Event element of the XML file(s), the following rules are used to select one of
each per event:</p>
<div class="line-block">
<div class="line"><strong>FocalMechanism</strong></div>
<div class="line-block">
<div class="line">1. <strong>preferredFocalMechanismID</strong> if present</div>
<div class="line">2. Solution with best-fitting moment tensor</div>
<div class="line">3. First <strong>FocalMechanism</strong> element</div>
<div class="line"><br /></div>
</div>
<div class="line"><strong>Magnitude</strong></div>
<div class="line-block">
<div class="line">1. <strong>preferredMagnitudeID</strong> if present</div>
<div class="line">2. Magnitude whose ID matches <strong>MomentTensor/derivedOriginID</strong></div>
<div class="line">3. Last moment magnitude (lowercase scale name begins with “mw”)</div>
<div class="line">4. First <strong>Magnitude</strong> element</div>
<div class="line"><br /></div>
</div>
<div class="line"><strong>Origin</strong></div>
<div class="line-block">
<div class="line">1. <strong>preferredOriginID</strong> if present</div>
<div class="line">2. <strong>derivedOriginID</strong> from the chosen <strong>MomentTensor</strong> element</div>
<div class="line">3. First <strong>Origin</strong> element</div>
</div>
</div>
<p>Non-essential QuakeML data are saved to <cite>misc</cite> in each SeisHdr or SeisSrc object
as appropriate.</p>
</div>
<div class="section" id="file-readers">
<h2>File Readers<a class="headerlink" href="#file-readers" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="uwpf">
<code class="descname">uwpf</code><span class="sig-paren">(</span><em>pf</em><span class="optional">[</span>, <em>v</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#uwpf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Read UW-format seismic pick file <cite>pf</cite>. Returns a tuple of (SeisHdr, SeisSrc).</p>
<dl class="function">
<dt>
<code class="descname">uwpf!(W, pf[, v::Int64=KW.v])</code></dt>
<dd></dd></dl>

<p>Read UW-format seismic pick info from pickfile <cite>f</cite> into SeisEvent object <cite>W</cite>.
Overwrites W.source and W.hdr with pickfile information. Keyword <cite>v</cite> controls
verbosity.</p>
<dl class="function">
<dt id="readuwevt">
<code class="descname">readuwevt</code><span class="sig-paren">(</span><em>fpat</em><span class="sig-paren">)</span><a class="headerlink" href="#readuwevt" title="Permalink to this definition">¶</a></dt>
<dd><p>Read University of Washington-format event data with file pattern stub fpat
into a SeisEvent object. <code class="docutils literal notranslate"><span class="pre">fpat</span></code> can be a datafile name, a pickfile name, or
a stub.</p>
</dd></dl>

</div>
<div class="section" id="utility-functions">
<h2>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt>
<code class="descname">distaz!(Ev::SeisEvent)</code></dt>
<dd></dd></dl>

<p>Compute distnace, azimuth, and backazimuth by the Haversine formula.
Overwrites Ev.data.dist, Ev.data.az, and Ev.data.baz.</p>
<dl class="function">
<dt id="gcdist">
<code class="descname">gcdist</code><span class="sig-paren">(</span><span class="optional">[</span><em>lat_src</em>, <em>lon_src</em>, <span class="optional">]</span><em>rec</em><span class="sig-paren">)</span><a class="headerlink" href="#gcdist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compute great circle distance, azimuth, and backazimuth from a single source
with coordinates <cite>[s_lat, s_lon]</cite> to receivers <cite>rec</cite> with coordinates
<cite>[r_lat r_lon]</cite> in each row.</p>
<dl class="function">
<dt id="show_phases">
<code class="descname">show_phases</code><span class="sig-paren">(</span><em>P::PhaseCat</em><span class="sig-paren">)</span><a class="headerlink" href="#show_phases" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Formatted display of seismic phases in dictionary P.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="randseis.html" class="btn btn-neutral float-right" title="RandSeis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Processing/processing.html" class="btn btn-neutral float-left" title="Data Processing Functions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2019, Joshua Jones, Ph.D.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>